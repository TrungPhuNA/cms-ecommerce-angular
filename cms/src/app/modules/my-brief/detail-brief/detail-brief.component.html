<div class="card card-body px-0 px-md-8">
	<div class="mb-8">
		<span class="fs14 cursor-pointer" routerLink="/overview" style="color: #475467;">Dashboard</span>
		<i class="fa fa-chevron-right mx-4"></i>
		<span class="text-primary fw-600 fs14">{{ data?.name }}</span>
	</div>

	<div class="container">
		<div class="box-container d-md-flex align-items-md-center justify-content-md-between">
			<div class="w-100 h-100 d-flex align-items-center mr-4 flex-wrap flex-md-nowrap">
				<div class="d-md-flex flex-column gap-3 mb-sm-0 mb-4">
					<div class="fs18 fw-600 mb-sm-0 mb-3" style="line-height: 18px;">{{ data?.name }}</div>
					<span class="text-{{renderStatus(data?.status)?.color}} fs14 fw-600 mt-md-0 mt-3" style="line-height: 20px;">
						{{ renderStatus(data?.status)?.name }}
					</span>
				</div>

				<ng-container *ngIf="(data?.status != 1 || data?.status != 2 || data?.status != 3) && data?.proposal">
					<div class="d-flex align-items-center h-100 is-hide">
						<hr class="col-gray line-gray" style="background-color: #797979; height: 40px;">
					</div>

					<div class="d-md-flex flex-column mb-sm-0 mb-2">
						<div class="fs16 fw-600" style="line-height: 24px;">Giải pháp đề xuất</div>
						<span class="text-primary fs14 fw-600" style="line-height: 20px;">
							<a href="{{ data?.proposal }}" target="_blank">file_giai_phap.pdf</a>
						</span>
					</div>
				</ng-container>
			</div>
			<div class="d-flex justify-content-between flex-wrap flex-md-nowrap gap-md-3" *ngIf="data?.status == 4">
                <button class="btn btn-outline text-nowrap mt-md-0 mt-3" (click)="openModal(2)">Từ chối</button>
				<button class="btn btn-success text-nowrap mt-md-0 mt-3" (click)="openModal(1)">Duyệt ngay</button>
			</div>
            <div *ngIf="data?.status == 2 || data?.status == 7">
                <button class="btn btn-outline text-nowrap mt-md-0 mt-3" (click)="openModal(3)">Xem lý do</button>
            </div>
		</div>

		<div class="welcome-text mt-8 mb-3">Thông tin chung</div>
		<hr class="line-gray mt-5 mb-5">

		<ng-container *ngIf="data?.status != 2; else rejectedBrief">
			<app-brief-child-detail
			[configs]="configs"
			[data]="data"
			[viralInfoName]="viralInfoName"
			[isArrayViralInfo]="isArrayViralInfo"
			></app-brief-child-detail>
		</ng-container>
		<ng-template #rejectedBrief>
			<app-form-brief 
			[configs]="configs"
			[data]="data"
			(resetForm)="getDetail($event)">
		</app-form-brief>
		</ng-template>
		
	</div>
</div>

<app-spinner [loading]="loading"></app-spinner>